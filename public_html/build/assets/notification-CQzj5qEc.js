import{i as o,g as t,a}from"./index.esm2017-NZQW5Whv.js";const s={apiKey:"AIzaSyB6N1n8dW95YGMMuTsZMRnJY1En7lK2s2M",authDomain:"dlk-diz.firebaseapp.com",projectId:"dlk-diz",storageBucket:"dlk-diz.firebasestorage.app",messagingSenderId:"209164982906",appId:"1:209164982906:web:0836fbb02e7effd80679c3"},i=o(s),d=t(i);Notification.requestPermission().then(n=>{n==="granted"?a(d,{vapidKey:"BLf08mEO3lePyBvZCwTzaSNX9R981qwESUblCemdDVZUT_cs4G3GD2YY38CN8ELIcPmgVRZ92G7ePzY187d4Dh4"}).then(e=>{e?(console.log("FCM Token:",e),fetch("/firebase/update-token",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({token:e})})):console.warn("Не удалось получить токен.")}).catch(e=>{console.error("Ошибка получения токена:",e)}):console.warn("Разрешение на уведомления не предоставлено.")});
